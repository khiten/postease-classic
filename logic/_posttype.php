<?php
 goto guMwz; ZoB3I: $process_msg_type = null; goto Qm5yQ; mQVza: $page_icon = "\146\141\55\160\154\x75\163"; goto xp6C2; BS3fr: $page_sub = $PageNum->getSubOption("\x70\157\163\x74\x74\171\x70\145"); goto vRMhY; Fhy9D: if (isset($_GET["\x70\x72\x6f\143\145\163\x73"]) && $_GET["\x70\x72\157\x63\145\163\163"] == 9) { $process_msg = TXT_POSTTYPE_MSG_DELETED; $process_msg_style = "\x64\x61\x6e\x67\145\x72"; $process_msg_type = "\104\x6f\x6e\145"; } goto VrRQg; R2qpq: $this_id = 0; goto zUclj; AruzZ: $this_name = null; goto Jjlnt; t1tAm: if (isset($_GET["\160\162\157\x63\145\x73\163"]) && $_GET["\x70\162\157\x63\x65\x73\x73"] == 2) { $process_msg = TXT_POSTTYPE_MSG_UPDATED; $process_msg_style = "\x73\x75\x63\x63\145\163\x73"; $process_msg_type = "\104\x6f\156\x65"; } goto Fhy9D; Jjlnt: $this_slug = null; goto qLURS; abt3E: $process_msg = null; goto bwoRy; zUclj: $this_site_id_arr = array(); goto TxekN; TX3AO: $post_type = $_SESSION[$session_key]["\160\x6f\163\164\x74\x79\160\x65"]["\160\x6f\163\164\137\x74\171\x70\x65"] = !isset($_GET["\x70\157\x73\x74\137\x74\x79\160\x65"]) ? !isset($_SESSION[$session_key]["\160\157\163\164\164\x79\x70\145"]["\x70\157\163\x74\137\x74\171\x70\145"]) ? "\x70\157\x73\x74" : $_SESSION[$session_key]["\x70\157\163\x74\x74\x79\160\x65"]["\160\157\x73\164\x5f\x74\171\160\x65"] : $_GET["\160\x6f\163\x74\137\164\171\x70\145"]; goto OXSyp; qLURS: $this_status = 1; goto jR3uW; guMwz: $page_main = $PageNum->getMain("\x6f\x70\164\x69\157\x6e"); goto BS3fr; vWoIb: $record_counter_posttype = 0; goto ZwU1u; aKbPf: $records_post = array(); goto XmPfh; ysT3W: $languages_all = array(); goto aKbPf; xp6C2: $sortable_table = $table_prefix . "\x70\x6f\163\x74\164\171\x70\145\x73"; goto xdjIG; vRMhY: $page_title_main = TXT_POSTTYPE_PAGETITLEMAIN; goto xcXgM; ZMT3g: $process = 1; goto w4Xyv; QIbP2: $mode = isset($_GET["\x6d\157\144\145"]) ? $_GET["\x6d\x6f\144\145"] : 1; goto yXVIt; OXSyp: if ($mode == 3) { $slug = shapeSingleByte($_POST["\x73\x6c\x75\x67"], "\163\x6c\x75\x67"); $query_string = null; if (isset($_POST["\156\141\155\x65"])) { $query_string .= "\x26\156\x61\x6d\x65\75{$_POST["\156\141\x6d\x65"]}"; } if (isset($_POST["\x73\154\165\147"])) { $query_string .= "\x26\x73\x6c\x75\147\75{$_POST["\x73\x6c\165\x67"]}"; } if (isset($_POST["\163\x69\x74\145\x5f\x69\x64"])) { foreach ($_POST["\163\151\164\x65\137\151\144"] as $key => $value) { $query_string .= "\x26\x73\x69\164\x65\x5f\x69\x64\133{$key}\x5d\x3d{$value}"; } } if (isset($_POST["\x6c\141\x6e\147\x75\x61\x67\x65\x5f\151\x64"])) { foreach ($_POST["\154\141\x6e\x67\165\141\147\145\137\151\144"] as $key => $value) { $query_string .= "\46\154\x61\156\147\x75\141\147\145\137\151\144\133{$key}\x5d\75{$value}"; } } if (isset($_POST["\163\164\141\x74\165\x73"])) { $query_string .= "\x26\x73\x74\x61\x74\165\x73\x3d{$_POST["\163\x74\141\164\165\x73"]}"; } if (isset($post_type)) { $query_string .= "\x26\x70\157\163\164\x5f\164\x79\160\x65\75{$post_type}"; } $posted_site_id = array(); if (!empty($_POST["\x73\x69\x74\x65\137\x69\x64"])) { foreach ($_POST["\x73\x69\164\145\x5f\x69\x64"] as $value) { $posted_site_id[] = sprintf("\x25\x30\x34\144", $value); } } $site_id = !empty($posted_site_id) ? implode("\54", $posted_site_id) : "\x30\60\60\61"; $posted_language_id = array(); if (!empty($_POST["\x6c\141\x6e\x67\165\141\147\x65\137\x69\144"])) { foreach ($_POST["\154\x61\x6e\147\x75\141\x67\x65\137\151\x64"] as $value) { $posted_language_id[] = sprintf("\x25\x30\64\144", $value); } } $language_id = !empty($posted_language_id) ? implode("\x2c", $posted_language_id) : "\x30\x30\60\x31"; if ($process == 1) { if (!empty($_POST["\156\141\x6d\145"]) && !empty($slug)) { if (!($overlap_slug = checkOverlapSlug($sortable_table, $slug))) { $new_id = $post_type == "\160\x6f\163\164" ? getNextId($sortable_table, 0, 1001) : getNextId($sortable_table, 999, 0); $new_line_order = $post_type == "\x70\x6f\x73\x74" ? getNewLineOrder($sortable_table, 0, 0, 0, 0, 1001) : getNewLineOrder($sortable_table, 0, 0, 0, 999, 0); try { $pdo->beginTransaction(); $sql = "\12\x9\x9\x9\x9\11\x9\x9\111\116\x53\105\122\x54\40\x49\116\124\x4f\40{$table_prefix}\x70\157\x73\164\x74\171\x70\145\163\xa\x9\x9\11\11\11\11\11\11\50\x20\x69\144\x2c\x20\x20\163\151\164\x65\137\x69\144\x2c\40\x20\154\141\x6e\147\165\141\x67\145\x5f\x69\144\54\40\x20\x6e\x61\155\x65\x2c\x20\40\x73\x6c\165\147\54\x20\x20\x6c\x69\156\145\x5f\x6f\x72\x64\x65\x72\54\x20\40\x73\164\141\164\165\163\51\xa\11\11\11\11\11\x9\x9\x56\101\x4c\125\105\123\xa\x9\11\x9\11\x9\11\11\x9\x28\x3a\x49\104\54\40\72\x53\x49\124\x45\137\x49\x44\x2c\x20\x3a\x4c\101\116\107\x55\x41\x47\x45\137\111\x44\x2c\40\72\x4e\x41\x4d\x45\54\x20\72\123\x4c\125\107\x2c\40\x3a\114\111\x4e\105\x5f\x4f\x52\x44\105\122\x2c\40\72\x53\124\101\x54\x55\x53\51\12\x9\11\11\x9\11"; $create_record = $pdo->prepare($sql); $create_record->bindValue("\x49\x44", $new_id); $create_record->bindValue("\x53\111\124\x45\x5f\x49\x44", $site_id); $create_record->bindValue("\x4c\101\116\107\125\101\107\x45\137\111\x44", $language_id); $create_record->bindValue("\x4e\x41\x4d\x45", $_POST["\156\141\x6d\145"]); $create_record->bindValue("\x53\x4c\125\x47", $_POST["\x73\x6c\x75\147"]); $create_record->bindValue("\x4c\111\x4e\105\x5f\x4f\122\104\x45\x52", $new_line_order); $create_record->bindValue("\123\124\101\x54\125\123", $_POST["\163\x74\x61\x74\x75\163"]); $create_record->execute(); unset($create_record); if ($new_id < 1000) { foreach ($posttype_mata_common as $key => $value) { $sql = "\xa\x9\x9\11\11\x9\x9\11\x9\11\x49\x4e\123\x45\x52\124\40\111\116\x54\117\x20{$table_prefix}\x63\x6f\156\x66\x69\147\163\x5f\160\157\x73\x74\x74\171\x70\145\xa\11\11\x9\x9\11\x9\x9\11\11\11\x28\40\x73\x69\x74\x65\137\151\144\54\x20\x20\160\157\163\164\x74\171\160\x65\x5f\151\144\54\40\40\151\x74\x65\155\54\x20\40\x76\x61\x6c\x75\x65\x29\12\11\11\x9\11\x9\11\11\11\x9\x56\101\114\125\105\x53\12\x9\x9\x9\11\11\x9\x9\x9\11\x9\x28\72\x53\111\x54\105\137\x49\104\x2c\x20\x3a\x50\x4f\123\x54\x54\131\x50\105\137\111\x44\54\x20\x3a\111\124\x45\115\x2c\x20\72\x56\x41\x4c\x55\x45\x29\12\11\11\x9\x9\x9\x9\11"; $create_meta = $pdo->prepare($sql); $create_meta->bindValue("\x53\111\124\x45\x5f\111\x44", 0); $create_meta->bindValue("\x50\x4f\123\124\124\x59\120\105\x5f\111\x44", $new_id); $create_meta->bindValue("\x49\124\105\115", $key); $create_meta->bindValue("\126\x41\114\125\105", $value); $create_meta->execute(); unset($create_meta); } foreach ($posttype_mata_text as $key => $value) { $sql = "\12\11\x9\x9\x9\x9\x9\11\x9\11\111\x4e\x53\105\x52\124\x20\111\116\x54\117\40{$table_prefix}\143\157\x6e\x66\151\147\163\137\x70\x6f\x73\164\164\x79\x70\x65\12\11\x9\x9\x9\x9\11\11\x9\11\11\x28\40\x73\151\x74\x65\137\151\144\x2c\x20\x20\160\157\x73\x74\x74\171\160\145\x5f\x69\144\x2c\x20\x20\151\x74\x65\x6d\x2c\40\40\166\141\154\x75\x65\x29\xa\x9\x9\x9\x9\11\x9\11\x9\x9\126\101\x4c\x55\105\123\xa\x9\11\x9\11\x9\x9\11\x9\x9\11\50\x3a\x53\111\124\105\137\x49\104\x2c\40\x3a\120\x4f\123\x54\x54\x59\x50\105\137\111\104\54\40\72\x49\x54\x45\x4d\54\40\x3a\126\x41\x4c\x55\x45\51\12\11\x9\11\x9\x9\x9\11"; $create_meta = $pdo->prepare($sql); $create_meta->bindValue("\x53\x49\x54\x45\x5f\111\104", 0); $create_meta->bindValue("\x50\117\123\124\124\131\120\105\x5f\x49\104", $new_id); $create_meta->bindValue("\111\124\x45\115", $key); $create_meta->bindValue("\126\101\114\x55\105", $value); $create_meta->execute(); unset($create_meta); } } else { foreach ($contact_mata_common as $key => $value) { $sql = "\xa\11\x9\x9\11\11\11\11\x9\11\x49\x4e\123\x45\122\124\40\x49\116\124\x4f\40{$table_prefix}\143\x6f\156\146\x69\147\163\137\x70\157\163\x74\164\x79\160\x65\12\11\11\x9\x9\x9\x9\11\x9\x9\11\50\40\163\x69\164\x65\137\151\144\x2c\40\40\160\x6f\x73\x74\x74\171\x70\145\x5f\x69\x64\x2c\x20\x20\x69\x74\145\155\x2c\40\40\x76\141\x6c\x75\145\x29\12\11\x9\11\11\11\11\x9\x9\x9\126\101\114\125\x45\x53\xa\x9\11\11\x9\x9\11\x9\11\x9\11\x28\72\x53\111\x54\105\137\111\104\x2c\40\72\120\117\123\x54\x54\131\x50\x45\x5f\111\104\x2c\x20\x3a\x49\124\x45\x4d\54\x20\x3a\x56\101\x4c\125\105\x29\xa\11\x9\x9\x9\x9\11\11"; $create_meta = $pdo->prepare($sql); $create_meta->bindValue("\123\x49\x54\x45\x5f\x49\104", 0); $create_meta->bindValue("\x50\x4f\123\x54\124\x59\120\105\x5f\x49\104", $new_id); $create_meta->bindValue("\111\x54\x45\x4d", $key); $create_meta->bindValue("\126\x41\114\125\105", $value); $create_meta->execute(); unset($create_meta); } } $new_posttype_id = sprintf("\45\x30\x34\144", $new_id); $sql = "\x53\x45\114\x45\x43\124\40\151\x64\54\40\x70\x6f\163\164\164\x79\x70\x65\x5f\151\144\x20\x46\122\117\115\x20{$table_prefix}\x75\x73\145\x72\163\x20\127\x48\105\x52\105\40\x64\145\154\x65\x74\x65\137\x66\x6c\x67\40\x3d\x20\x30\40\x41\x4e\104\x20\162\x6f\x6c\x65\x20\74\x3d\40\62"; $read_records = $pdo->prepare($sql); $read_records->execute(); while ($record = $read_records->fetch(PDO::FETCH_ASSOC)) { $records[] = $record; } unset($read_records); foreach ($records as $record) { $updated_posttype_id = $record["\x70\157\x73\164\164\171\160\x65\137\151\x64"] . "\54" . $new_posttype_id; $sql = "\x55\x50\104\101\x54\x45\x20{$table_prefix}\x75\x73\145\x72\x73\40\123\x45\x54\40\160\157\163\164\164\171\160\x65\x5f\151\144\x20\75\x20\x3a\120\117\123\124\x54\x59\120\105\x5f\x49\x44\40\127\x48\105\122\105\x20\151\144\x20\75\x20{$record["\151\144"]}"; $update_record = $pdo->prepare($sql); $update_record->bindValue("\120\117\x53\x54\x54\x59\x50\x45\x5f\x49\104", $updated_posttype_id); $update_record->execute(); unset($update_record); } resetCacheParams(); $pdo->commit(); } catch (PDOException $e) { $pdo->rollBack(); var_dump($e->getMessage()); die; } if ($new_id < 1000) { $source_tinymce_init = dirname(__FILE__) . "\57\56\56\x2f\x74\151\156\171\x6d\143\145\57\164\151\x6e\171\155\143\145\137\x69\156\151\164\x2e\x6a\163"; $distination_tinymce_init = dirname(__FILE__) . "\x2f\x2e\56\x2f\143\165\x73\164\157\155\x2f\x74\x69\x6e\x79\x6d\x63\x65\x2f\151\x6e\151\x74\x2f\x70\157\163\164\164\171\160\145\x5f" . sprintf("\x25\60\64\x64", $new_id) . "\137\151\x6e\151\164\56\x6a\x73"; if (!file_exists($distination_tinymce_init)) { copy($source_tinymce_init, $distination_tinymce_init); } $source_tinymce_css = dirname(__FILE__) . "\x2f\x2e\x2e\x2f\x74\x69\156\171\155\143\x65\57\x74\151\x6e\x79\155\143\x65\x2e\x63\x73\x73"; $distination_tinymce_css = dirname(__FILE__) . "\57\56\x2e\x2f\x63\165\x73\164\x6f\x6d\x2f\x74\151\156\171\x6d\x63\x65\57\x63\x73\x73\x2f\160\157\163\164\x74\x79\x70\x65\137" . sprintf("\45\x30\64\x64", $new_id) . "\x2e\x63\x73\163"; if (!file_exists($distination_tinymce_css)) { copy($source_tinymce_css, $distination_tinymce_css); } } header("\114\x6f\x63\x61\164\151\157\156\72\40\x2e\x2f\77\x76\x69\x65\167\137\x70\x61\x67\145\75\160\157\163\x74\164\171\160\x65\x26\x70\162\157\x63\x65\163\x73\75\61\x26\x63\150\141\x6e\x67\x65\x3d\61"); die; } else { header("\x4c\x6f\x63\141\x74\x69\157\156\x3a\40\56\x2f\77\x76\151\145\167\137\160\141\147\145\x3d\x70\x6f\163\164\x74\171\160\145\x26\x6d\157\x64\145\75{$process}\x26\160\162\x6f\143\145\x73\x73\x3d\x31\71\x26\145\x72\x72\x6f\x72\x5f\143\x6f\x64\x65\x3d\x30\x33{$query_string}"); die; } } elseif (empty($_POST["\156\x61\x6d\145"])) { header("\114\157\x63\141\x74\x69\x6f\156\72\40\56\x2f\x3f\x76\151\x65\167\x5f\160\x61\x67\145\x3d\160\x6f\163\x74\164\171\160\x65\46\x6d\x6f\144\x65\x3d{$process}\46\160\162\157\x63\x65\x73\x73\75\61\71\46\145\x72\162\157\x72\x5f\143\157\x64\145\75\60\x31{$query_string}"); die; } elseif (empty($slug)) { header("\x4c\x6f\x63\141\164\151\x6f\156\x3a\40\x2e\57\x3f\x76\x69\x65\167\x5f\160\141\147\x65\x3d\160\157\x73\164\164\x79\x70\x65\x26\x6d\x6f\x64\145\75{$process}\x26\160\162\157\x63\x65\163\x73\x3d\x31\x39\46\x65\162\162\x6f\162\137\143\x6f\x64\145\x3d\60\x32{$query_string}"); die; } } if ($process == 2) { if (!empty($_POST["\x75\160\144\x61\164\x65\x5f\x69\144"]) && !empty($_POST["\x6e\141\155\145"]) && !empty($slug)) { if (!($overlap_slug = checkOverlapSlug($sortable_table, $slug, $_POST["\165\x70\144\x61\164\145\137\x69\144"]))) { try { $pdo->beginTransaction(); $sql = "\12\11\x9\x9\x9\x9\11\11\125\x50\x44\101\x54\x45\x20{$table_prefix}\x70\157\163\164\164\171\160\145\163\40\x53\x45\124\xa\11\x9\x9\11\x9\11\x9\x9\x73\x69\164\x65\137\151\x64\x20\40\x20\40\x20\x20\40\x20\40\75\x20\72\x53\x49\x54\x45\137\x49\104\54\12\11\x9\x9\11\x9\x9\x9\11\x6c\141\x6e\147\x75\x61\147\x65\137\x69\144\40\40\x20\x20\40\75\40\72\x4c\101\116\x47\125\x41\107\105\137\111\104\54\xa\11\x9\11\x9\11\11\11\11\156\141\155\145\x20\40\40\40\x20\40\40\x20\40\x20\40\x20\x3d\x20\72\x4e\101\x4d\105\x2c\12\11\x9\x9\11\x9\x9\x9\11\163\154\165\x67\x20\x20\40\40\x20\x20\40\x20\40\x20\x20\x20\x3d\40\x3a\x53\114\x55\107\54\xa\x9\x9\x9\x9\11\x9\11\x9\x73\164\x61\x74\x75\163\x20\x20\x20\40\x20\x20\x20\x20\40\x20\x3d\40\72\x53\124\101\x54\x55\123\12\x9\11\11\11\x9\x9\x9\127\110\x45\x52\x45\40\x69\144\x20\75\x20\72\111\104\xa\x9\x9\11\11\11"; $update_record = $pdo->prepare($sql); $update_record->bindValue("\123\x49\x54\105\137\111\x44", $site_id); $update_record->bindValue("\x4c\101\116\x47\x55\101\107\105\137\111\104", $language_id); $update_record->bindValue("\x4e\x41\115\105", $_POST["\x6e\141\155\x65"]); $update_record->bindValue("\x53\114\125\107", $_POST["\163\x6c\x75\147"]); $update_record->bindValue("\123\x54\x41\x54\x55\123", $_POST["\163\164\141\x74\x75\163"]); $update_record->bindValue("\x49\x44", $_POST["\x75\160\x64\x61\164\x65\137\151\x64"]); $update_record->execute(); unset($update_record); resetCacheParams(); $pdo->commit(); } catch (PDOException $e) { $pdo->rollBack(); header("\114\x6f\143\141\x74\151\x6f\x6e\x3a\x20\56\x2f\77\x76\151\145\x77\137\x70\x61\147\x65\x3d\x70\157\x73\x74\x74\x79\160\x65\x26\151\x64\75{$_POST["\165\160\x64\141\x74\x65\137\151\144"]}\x26\155\157\144\145\75{$process}\x26\160\162\157\143\x65\163\x73\75\x31\71\x26\x65\162\x72\x6f\162\137\x63\157\144\x65\x3d\x30\65{$query_string}"); die; } header("\x4c\x6f\x63\x61\x74\x69\x6f\156\x3a\x20\56\57\77\166\151\145\167\137\x70\x61\147\x65\75\160\x6f\x73\x74\164\171\x70\145\x26\x70\x72\157\x63\x65\163\x73\x3d\62\x26\143\x68\141\x6e\x67\145\75\x31"); die; } else { header("\x4c\157\x63\141\x74\x69\157\156\x3a\x20\56\x2f\x3f\166\151\145\167\137\x70\141\x67\145\x3d\160\x6f\163\164\164\x79\160\x65\46\151\x64\x3d{$_POST["\165\x70\x64\141\x74\x65\137\151\144"]}\x26\x6d\157\144\145\75{$process}\46\x70\162\157\x63\x65\163\163\75\61\x39\x26\x65\162\x72\157\x72\137\143\x6f\x64\145\75\60\x33\x26{$query_string}"); die; } } elseif (empty($_POST["\x6e\141\x6d\145"])) { header("\x4c\157\x63\141\x74\x69\x6f\x6e\72\x20\x2e\57\x3f\166\151\145\167\x5f\x70\141\x67\145\75\x70\x6f\163\164\x74\x79\x70\x65\46\151\144\75{$_POST["\165\160\x64\x61\x74\x65\x5f\151\x64"]}\x26\155\157\144\145\75{$process}\x26\x70\x72\157\143\145\x73\x73\75\x31\x39\46\x65\162\162\x6f\x72\137\x63\x6f\144\145\x3d\60\61{$query_string}"); die; } elseif (empty($slug)) { header("\114\x6f\x63\x61\164\151\157\156\72\40\56\x2f\x3f\x76\151\145\x77\137\160\141\147\x65\x3d\x70\x6f\163\164\x74\171\x70\x65\x26\151\x64\75{$_POST["\165\x70\x64\141\164\145\x5f\x69\144"]}\x26\x6d\157\x64\x65\75{$process}\46\x70\x72\157\143\x65\x73\x73\75\x31\71\x26\x65\162\x72\157\162\137\143\157\144\x65\x3d\x30\62{$query_string}"); die; } else { header("\114\x6f\143\x61\164\x69\157\x6e\72\40\56\57\x3f\x76\151\145\x77\x5f\x70\141\147\x65\75\x70\x6f\163\x74\x74\171\160\145\46\x6d\157\x64\145\x3d{$process}\46\x70\x72\157\x63\145\x73\x73\75\x31\71\x26\x65\x72\x72\x6f\x72\137\143\157\x64\x65\75\x31\60{$query_string}"); die; } } if ($process == 9) { if (!empty($_POST["\165\160\x64\x61\164\145\137\151\x64"])) { try { $pdo->beginTransaction(); $sql = "\xa\x9\x9\x9\11\x9\x9\125\120\104\101\x54\105\40{$table_prefix}\160\x6f\163\164\x74\171\x70\x65\163\40\x53\105\124\xa\x9\11\x9\11\x9\11\11\144\x65\x6c\x65\x74\x65\137\x66\x6c\x67\40\x3d\40\x31\12\x9\x9\x9\11\x9\11\x57\110\105\x52\105\x20\x69\x64\40\x3d\40\x3a\111\x44\xa\x9\x9\x9\x9"; $update_record = $pdo->prepare($sql); $update_record->bindValue("\111\x44", $_POST["\165\x70\144\141\164\x65\137\x69\144"]); $update_record->execute(); unset($update_record); resetCacheParams(); $pdo->commit(); } catch (PDOException $e) { $pdo->rollBack(); header("\114\x6f\x63\141\x74\x69\157\x6e\x3a\40\56\x2f\x3f\x76\x69\145\x77\137\x70\x61\x67\145\75\x70\157\x73\164\164\x79\x70\x65\46\151\x64\x3d{$_POST["\165\x70\144\141\164\x65\x5f\151\144"]}\x26\155\157\144\x65\75{$process}\x26\160\162\x6f\x63\x65\163\163\75\61\x39\x26\x65\x72\162\157\x72\x5f\143\x6f\x64\145\x3d\60\66{$query_string}"); die; } header("\114\x6f\x63\141\x74\151\157\x6e\72\x20\56\x2f\77\166\x69\x65\x77\x5f\x70\141\147\x65\x3d\160\x6f\163\x74\x74\171\160\x65\x26\x70\162\157\x63\x65\163\x73\x3d\x39\x26\x63\x68\x61\156\147\x65\75\61\x26\162\x65\x73\145\x74\137\160\x6f\163\164\164\x79\x70\x65\75\x31"); die; } else { header("\x4c\157\x63\141\164\151\x6f\x6e\x3a\x20\56\x2f\x3f\x76\151\145\x77\x5f\160\141\x67\x65\x3d\160\x6f\163\164\164\x79\x70\x65\x26\x6d\x6f\144\x65\x3d{$process}\x26\160\162\x6f\143\x65\163\163\x3d\x31\71\46\x65\162\162\x6f\162\137\143\157\x64\145\75\x31\60{$query_string}"); die; } } } goto abt3E; xcXgM: $page_title_sub = TXT_POSTTYPE_PAGETITLESUB; goto mQVza; LtJQs: $id = isset($_GET["\151\x64"]) ? $_GET["\x69\144"] : null; goto QIbP2; XmPfh: $records_contact = array(); goto vWoIb; ZwU1u: $record_counter_contact = 0; goto JTty9; bwoRy: $process_msg_style = null; goto ZoB3I; hhW59: if ($post_type == "\160\157\163\164" && $record_counter_posttype < $posttype_limit) { $creation_left = $posttype_limit - $record_counter_posttype; } goto EL93J; yXVIt: $process = isset($_POST["\x70\162\x6f\143\x65\163\x73"]) ? $_POST["\x70\x72\x6f\x63\145\163\x73"] : 0; goto TX3AO; Lr0NR: $creation_left = 0; goto hhW59; xdjIG: $posttype_limit = $_SESSION[$session_key]["\x65\170\164\162\141"]["\x70\x6f\x73\164\164\171\x70\145\x5f\x6c\x69\x6d\151\164"]; goto RU5WJ; Qm5yQ: $notice_user = null; goto CVtS1; RU5WJ: $posttype_extra_limit = $_SESSION[$session_key]["\x65\170\164\162\141"]["\x70\x6f\x73\164\164\x79\x70\145\x5f\145\170\x74\x72\x61\137\x6c\x69\x6d\x69\x74"]; goto LtJQs; VrRQg: if (isset($_GET["\160\162\x6f\143\145\163\x73"]) && $_GET["\x70\x72\157\143\145\163\163"] == 19 && isset($_GET["\145\x72\162\157\162\137\x63\157\x64\x65"])) { $process_msg = $errormsg_list[$_GET["\x65\x72\x72\157\x72\x5f\143\157\x64\145"]]; $process_msg_style = "\144\x61\156\147\145\x72"; $process_msg_type = "\105\162\x72\x6f\162"; } goto R2qpq; Br3uk: if (isset($_GET["\x70\162\157\143\x65\163\163"]) && $_GET["\x70\x72\x6f\143\x65\163\163"] == 19) { if (isset($_GET["\x6e\141\x6d\x65"])) { $this_name = $_GET["\156\x61\x6d\145"]; } if (isset($_GET["\x73\154\165\x67"])) { $this_slug = $_GET["\163\x6c\x75\147"]; } if (isset($_GET["\x73\164\141\164\165\x73"])) { $this_status = $_GET["\x73\164\x61\x74\x75\163"]; } if (isset($_GET["\163\151\164\x65\137\x69\144"])) { foreach ($_GET["\x73\x69\164\145\x5f\151\x64"] as $key => $value) { $this_site_id_arr[$key] = $value; } } if (isset($_GET["\154\x61\x6e\x67\165\x61\x67\145\x5f\x69\x64"])) { foreach ($_GET["\x6c\x61\x6e\x67\x75\141\x67\x65\x5f\x69\144"] as $key => $value) { $this_language_id_arr[$key] = $value; } } } goto ysT3W; jR3uW: $submit_name = "\x64\x6f\x5f\143\162\x65\x61\164\x65"; goto ZMT3g; EL93J: if ($post_type == "\x63\x6f\156\x74\141\143\x74" && $record_counter_contact < $posttype_extra_limit) { $creation_left = $posttype_extra_limit - $record_counter_contact; } goto ryq3U; CVtS1: if (isset($_GET["\x70\x72\x6f\143\x65\x73\x73"]) && $_GET["\x70\x72\157\143\x65\x73\163"] == 1) { $process_msg = TXT_POSTTYPE_MSG_CREATED; $process_msg_style = "\163\x75\143\143\x65\163\163"; $process_msg_type = "\x44\x6f\x6e\145"; $notice_user = TXT_POSTTYPE_MSG_FOR_USER; } goto t1tAm; w4Xyv: if ($mode == 2) { try { $sql = "\123\105\x4c\x45\x43\x54\40\52\x20\106\x52\117\115\x20{$table_prefix}\160\x6f\163\164\x74\x79\x70\145\163\40\127\110\x45\122\105\x20\151\x64\40\x3d\x20{$id}"; $read_record = $pdo->prepare($sql); $read_record->execute(); $this_record = $read_record->fetch(PDO::FETCH_ASSOC); unset($read_record); } catch (PDOException $e) { $read_error = 1; header("\x4c\x6f\x63\141\x74\x69\157\x6e\72\x20\x2e\57\77\166\x69\x65\167\137\160\x61\x67\x65\x3d\145\162\x72\x6f\162\x26\x70\x61\147\x65\x3d{$page}\46\162\145\141\144\x5f\145\x72\162\157\162\75{$read_error}"); die; } $this_id = $this_record["\x69\144"]; $this_site_id_arr = explode("\x2c", $this_record["\163\x69\164\145\x5f\x69\144"]); $this_language_id_arr = explode("\54", $this_record["\x6c\141\156\x67\x75\141\147\x65\x5f\151\x64"]); $this_name = $this_record["\156\141\155\145"]; $this_slug = $this_record["\163\x6c\x75\147"]; $this_status = $this_record["\x73\164\141\164\165\x73"]; $submit_name = "\144\157\137\x75\160\144\x61\x74\x65"; $process = 2; } goto Br3uk; JTty9: try { $sql = "\xa\x9\11\x9\123\x45\114\105\x43\x54\x20\x69\x64\x2c\x20\156\x61\155\145\xa\11\x9\x9\x46\122\117\115\40{$table_prefix}\x6c\141\x6e\147\165\x61\147\145\163\12\x9\11\x9\x57\110\x45\122\x45\x20\163\164\141\x74\x75\163\40\75\40\61\x20\x41\116\104\x20\144\x65\x6c\145\164\145\x5f\146\154\x67\40\x3d\x20\60\xa\x9\x9\x9\x4f\x52\x44\105\x52\40\102\x59\x20\x6c\x69\x6e\x65\137\157\162\x64\145\162\54\x20\151\144\x20\x41\x53\x43\xa\11"; $read_languages = $pdo->prepare($sql); $read_languages->execute(); while ($record = $read_languages->fetch(PDO::FETCH_ASSOC)) { $languages_all[$record["\151\144"]] = $record["\156\141\155\x65"]; } unset($read_languages); $sql = "\12\11\x9\11\x53\105\x4c\x45\103\x54\40\x2a\xa\x9\x9\x9\106\122\117\115\40{$table_prefix}\x70\157\x73\164\164\x79\160\x65\x73\xa\11\11\11\x57\x48\105\122\105\x20\144\145\154\x65\164\x65\x5f\x66\x6c\147\x20\75\40\60\x20\101\116\x44\40\151\x64\40\x3c\x20\61\x30\x30\60\xa\11\x9\x9\x4f\122\104\105\122\x20\x42\x59\40\x6c\x69\x6e\x65\137\x6f\162\144\145\x72\x2c\40\151\144\x20\101\x53\x43\xa\x9\x9\x9\x4c\111\115\111\x54\40\60\x2c\40{$posttype_limit}\12\11"; $read_records = $pdo->prepare($sql); $read_records->execute(); while ($record = $read_records->fetch(PDO::FETCH_ASSOC)) { $records_post[$record["\151\144"]] = $record; $record_counter_posttype++; $site_id_arr = explode("\x2c", $record["\x73\x69\164\x65\x5f\151\x64"]); $site_names = null; foreach ($site_id_arr as $value) { $value = intval($value); $sql = "\x53\105\114\x45\103\x54\x20\156\141\x6d\x65\x20\x46\x52\117\115\40{$table_prefix}\163\151\164\x65\x73\40\x57\110\105\x52\105\40\x69\x64\40\x3d\x20{$value}"; $read_site_name = $pdo->prepare($sql); $read_site_name->execute(); if ($site_name = $read_site_name->fetch(PDO::FETCH_ASSOC)) { $site_names .= $site_name["\x6e\x61\155\x65"] . "\46\x6e\142\163\160\73"; } unset($read_site_name); } $records_post[$record["\151\x64"]]["\x73\x69\x74\145\x5f\x6e\x61\155\145\163"] = $site_names; $records_post[$record["\151\144"]]["\x73\x69\164\145\137\x69\144\137\141\162\162"] = $site_id_arr; $language_id_arr = explode("\x2c", $record["\x6c\x61\x6e\x67\x75\141\x67\x65\x5f\151\144"]); $language_names = null; foreach ($language_id_arr as $value) { $value = intval($value); $sql = "\x53\x45\x4c\105\x43\124\40\x6e\141\x6d\145\40\x46\x52\x4f\115\40{$table_prefix}\154\141\x6e\x67\165\141\147\145\163\x20\x57\x48\x45\x52\x45\40\x69\x64\40\75\40{$value}"; $read_language_name = $pdo->prepare($sql); $read_language_name->execute(); if ($language_name = $read_language_name->fetch(PDO::FETCH_ASSOC)) { $language_names .= $language_name["\156\141\155\x65"] . "\x26\x6e\142\163\160\x3b"; } unset($read_language_name); } $records_post[$record["\x69\x64"]]["\154\x61\x6e\x67\x75\141\x67\145\137\x6e\x61\155\145\x73"] = $language_names; $records_post[$record["\151\144"]]["\x6c\141\x6e\147\165\x61\147\x65\x5f\151\144\x5f\141\162\162"] = $language_id_arr; } unset($read_records); $sql = "\xa\x9\11\x9\x53\x45\x4c\105\x43\x54\x20\x2a\12\11\11\x9\x46\122\117\x4d\x20{$table_prefix}\160\157\x73\x74\x74\171\x70\145\x73\12\11\x9\11\127\110\x45\x52\x45\40\144\145\x6c\145\x74\x65\x5f\x66\x6c\147\x20\x3d\40\x30\x20\101\x4e\104\40\151\x64\40\76\75\40\x31\60\x30\x31\xa\x9\x9\11\117\x52\104\x45\122\x20\102\131\40\x6c\x69\156\x65\137\157\162\x64\x65\162\x2c\x20\151\144\x20\101\123\103\xa\x9\x9\11\x4c\111\115\x49\x54\x20\x30\x2c\x20{$posttype_extra_limit}\12\11"; $read_records = $pdo->prepare($sql); $read_records->execute(); while ($record = $read_records->fetch(PDO::FETCH_ASSOC)) { $records_contact[$record["\x69\x64"]] = $record; $record_counter_contact++; $site_id_arr = explode("\54", $record["\x73\151\x74\145\x5f\x69\x64"]); $site_names = null; foreach ($site_id_arr as $value) { $value = intval($value); $sql = "\x53\105\x4c\105\103\x54\40\x6e\x61\155\145\x20\106\122\x4f\x4d\x20{$table_prefix}\x73\151\164\x65\x73\40\127\110\105\122\105\40\x69\144\40\x3d\x20{$value}"; $read_site_name = $pdo->prepare($sql); $read_site_name->execute(); if ($site_name = $read_site_name->fetch(PDO::FETCH_ASSOC)) { $site_names .= $site_name["\x6e\141\155\145"] . "\x26\x6e\142\163\x70\x3b"; } unset($read_site_name); } $records_contact[$record["\151\144"]]["\163\x69\164\x65\x5f\156\141\x6d\145\163"] = $site_names; $records_contact[$record["\x69\x64"]]["\163\151\x74\145\137\151\x64\137\141\162\162"] = $site_id_arr; $language_id_arr = explode("\54", $record["\x6c\141\x6e\x67\x75\x61\147\145\x5f\x69\x64"]); $language_names = null; foreach ($language_id_arr as $value) { $value = intval($value); $sql = "\123\105\x4c\x45\103\124\x20\x6e\x61\x6d\x65\x20\x46\x52\117\115\x20{$table_prefix}\154\x61\156\147\165\x61\147\x65\163\x20\x57\110\x45\x52\105\40\x69\144\x20\75\x20{$value}"; $read_language_name = $pdo->prepare($sql); $read_language_name->execute(); if ($language_name = $read_language_name->fetch(PDO::FETCH_ASSOC)) { $language_names .= $language_name["\156\141\155\145"] . "\x26\156\x62\x73\x70\73"; } unset($read_language_name); } $records_contact[$record["\x69\144"]]["\154\x61\x6e\147\x75\x61\x67\145\x5f\156\141\155\145\x73"] = $language_names; $records_contact[$record["\x69\144"]]["\x6c\x61\156\x67\165\141\x67\145\x5f\x69\x64\137\141\162\x72"] = $language_id_arr; } unset($read_records); } catch (PDOException $e) { $read_error = 2; header("\114\157\143\x61\164\x69\157\x6e\72\40\x2e\57\x3f\x76\151\x65\167\137\x70\141\x67\x65\x3d\145\162\x72\x6f\162\x26\x70\141\147\x65\75{$page}\x26\x72\x65\x61\x64\x5f\145\162\x72\157\x72\75{$read_error}"); die; } goto Lr0NR; TxekN: $this_language_id_arr = array(); goto AruzZ; ryq3U: $allow_edit_flg = $creation_left || $mode == 2 ? 1 : 0;