<?php
 goto BsVsd; Cm0DS: $this_dir_name = ltrim(rtrim(str_replace(basename($_SERVER["\123\x43\x52\111\120\x54\x5f\x4e\x41\x4d\105"]), '', $_SERVER["\123\x43\x52\x49\x50\124\137\116\x41\x4d\x45"]), "\x2f"), "\57"); goto HZA0y; cBy2A: $process_msg = null; goto kjFmT; HZA0y: if ($mode == 3 && !empty($target)) { if ($target == "\143\x6f\162\x65\137\163\171\x73\164\145\155") { if (!empty($_POST["\x73\x65\x73\163\151\x6f\156\137\153\145\171"])) { if ($_POST["\163\145\x73\163\x69\x6f\x6e\x5f\x6b\x65\x79"] != $_SESSION[$session_key]["\143\x6f\156\146\151\147\163"]["\x73\x65\x73\163\x69\x6f\x6e\137\x6b\x65\171"]) { if (!preg_match("\x2f\x5e\133\141\55\172\101\x2d\x5a\60\x2d\x39\137\55\135\x2b\x24\57", $_POST["\x73\x65\x73\x73\x69\157\156\137\153\x65\x79"])) { header("\114\157\x63\x61\x74\151\157\156\72\x20\x2e\57\x3f\x76\x69\145\x77\x5f\160\x61\147\x65\75\x63\157\156\x66\x69\147\137\x63\x6f\162\x65\x26\160\162\x6f\x63\145\163\163\75\x31\x39\x26\145\162\x72\157\x72\x5f\x63\157\144\145\x3d\70\x33"); die; } } } else { header("\114\x6f\143\141\x74\x69\x6f\x6e\72\x20\x2e\x2f\x3f\x76\151\145\167\x5f\x70\141\147\145\x3d\x63\x6f\156\146\x69\147\137\x63\157\162\x65\46\x70\x72\157\143\x65\163\x73\x3d\61\x39\x26\x65\x72\x72\x6f\162\x5f\x63\157\144\x65\75\x38\63"); die; } if (!empty($_POST["\x64\x65\146\x61\165\x6c\164\137\x70\141\x73\163\x77\157\162\x64"])) { if ($_POST["\x64\145\146\x61\165\154\x74\x5f\x70\x61\163\x73\x77\157\x72\x64"] != $_SESSION[$session_key]["\x63\157\156\146\151\147\x73"]["\144\145\x66\141\165\x6c\164\137\160\141\163\163\167\157\162\144"]) { if (!preg_match("\x2f\x5e\133\141\x2d\172\x30\55\71\x5d\x2b\x24\x2f", $_POST["\x64\145\x66\141\165\154\164\137\160\141\163\x73\x77\x6f\162\x64"])) { header("\x4c\157\143\141\x74\151\157\156\x3a\x20\x2e\57\x3f\166\x69\x65\x77\x5f\160\141\x67\x65\75\x63\x6f\x6e\x66\151\147\137\143\x6f\162\x65\46\x70\162\157\x63\145\163\x73\75\61\71\46\x65\162\162\157\x72\137\143\157\144\145\75\x38\65"); die; } } } else { header("\x4c\157\x63\141\164\151\157\156\x3a\40\56\x2f\77\166\151\x65\x77\137\x70\141\147\x65\75\143\x6f\156\146\151\147\x5f\x63\157\162\x65\46\160\x72\157\x63\x65\163\x73\75\x31\71\46\145\162\162\x6f\162\137\143\x6f\144\145\75\70\x35"); die; } if (isset($_POST["\x61\x75\x74\x6f\x5f\x63\x6f\162\x72\145\x63\164"])) { $_POST["\x64\x6f\x6d\x61\x69\x6e"] = $this_domain; $_POST["\x64\151\x72\x5f\x6e\x61\x6d\145"] = $this_dir_name; } $upload_uri_old = empty($_SESSION[$session_key]["\143\157\x6e\x66\151\147\163"]["\144\x69\162\137\156\x61\155\x65"]) ? $_SESSION[$session_key]["\x63\x6f\x6e\x66\x69\147\x73"]["\x64\x6f\155\141\x69\x6e"] . "\x2f\x75\x70\154\x6f\141\144\x2f" : $_SESSION[$session_key]["\143\x6f\156\x66\151\147\x73"]["\144\157\x6d\141\x69\x6e"] . "\57" . $_SESSION[$session_key]["\143\x6f\x6e\146\x69\x67\163"]["\144\x69\x72\x5f\156\x61\x6d\x65"] . "\57\x75\x70\154\x6f\x61\x64\x2f"; $upload_uri_new = empty($this_dir_name) ? $this_domain . "\57\x75\x70\x6c\x6f\141\144\x2f" : $this_domain . "\57" . $this_dir_name . "\57\165\160\154\x6f\x61\144\x2f"; if (!empty($this_domain) && $this_domain != $_SESSION[$session_key]["\x63\157\x6e\x66\151\147\x73"]["\x64\x6f\x6d\141\151\156"] || $this_dir_name != $_SESSION[$session_key]["\x63\x6f\x6e\x66\x69\x67\x73"]["\144\151\162\x5f\x6e\141\155\145"]) { try { $pdo->beginTransaction(); $records = array(); $sql = "\123\105\x4c\105\x43\124\x20\151\x64\x2c\x20\x65\x79\x65\x63\141\164\x63\x68\x20\106\122\117\x4d\x20{$table_prefix}\160\x6f\163\164\163\137\x62\141\x73\x65\x20\x57\110\x45\122\x45\40\145\x79\145\x63\x61\164\143\150\x20\114\111\x4b\x45\x20\47\45{$_SESSION[$session_key]["\x63\157\156\146\151\x67\163"]["\144\157\x6d\141\151\x6e"]}\x25\x27"; $read_records = $pdo->prepare($sql); $read_records->execute(); while ($record = $read_records->fetch(PDO::FETCH_ASSOC)) { $records[] = $record; } unset($read_records); if (!empty($records)) { foreach ($records as $row) { $new_eyecatch = str_replace($upload_uri_old, $upload_uri_new, $row["\145\171\145\143\141\164\x63\x68"]); $sql = "\xa\11\x9\11\x9\x9\11\11\11\125\120\x44\x41\x54\105\x20{$table_prefix}\x70\157\x73\x74\163\137\142\x61\x73\145\x20\x53\x45\x54\xa\11\x9\11\x9\11\11\x9\x9\11\x65\171\x65\143\141\164\143\150\x20\x3d\40\x3a\116\105\x57\x5f\x45\x59\105\x43\101\x54\103\x48\12\11\x9\x9\x9\x9\x9\x9\11\127\x48\x45\x52\x45\x20\x69\144\40\75\x20\72\x49\x44\12\11\11\x9\x9\11\x9"; $update_record = $pdo->prepare($sql); $update_record->bindValue("\116\105\127\137\x45\131\x45\103\x41\x54\103\110", $new_eyecatch); $update_record->bindValue("\111\x44", $row["\151\x64"]); $update_record->execute(); unset($update_record); } } $records = array(); $sql = "\123\105\x4c\105\103\124\40\x62\x61\163\x65\x5f\x69\x64\x2c\x20\154\x61\x6e\147\165\141\x67\x65\x5f\x69\144\54\x20\x63\x6f\156\164\x65\156\x74\40\x46\x52\x4f\115\40{$table_prefix}\x70\x6f\163\x74\x73\x5f\x74\x65\x78\x74\40\127\x48\105\x52\x45\x20\143\x6f\x6e\x74\x65\156\164\40\114\x49\113\105\40\47\45{$_SESSION[$session_key]["\x63\157\156\x66\x69\147\x73"]["\144\x6f\x6d\x61\151\x6e"]}\45\47"; $read_records = $pdo->prepare($sql); $read_records->execute(); $i = 0; while ($record = $read_records->fetch(PDO::FETCH_ASSOC)) { $records[$i]["\x62\141\x73\x65\x5f\x69\x64"] = $record["\142\141\163\145\x5f\x69\144"]; $records[$i]["\154\x61\156\x67\165\x61\147\x65\x5f\x69\144"] = $record["\x6c\141\156\147\x75\x61\x67\x65\137\x69\144"]; $records[$i]["\143\157\x6e\164\x65\156\x74"] = htmlspecialchars($record["\143\157\x6e\x74\x65\156\x74"]); $i++; } unset($read_records); if (!empty($records)) { foreach ($records as $row) { $row["\143\157\156\164\x65\x6e\164"]; $new_content = str_replace($upload_uri_old, $upload_uri_new, $row["\143\x6f\x6e\164\x65\156\x74"]); $sql = "\xa\11\11\x9\x9\11\x9\x9\11\125\x50\x44\101\124\x45\40{$table_prefix}\x70\x6f\163\x74\x73\137\164\145\x78\x74\40\x53\x45\124\xa\11\x9\x9\x9\x9\11\11\11\11\143\x6f\156\164\145\156\x74\x20\75\40\x3a\116\x45\x57\137\x43\117\x4e\x54\105\x4e\124\xa\11\x9\x9\x9\x9\x9\11\11\127\x48\x45\x52\105\xa\x9\x9\x9\11\11\x9\x9\11\11\x62\141\163\145\x5f\151\x64\40\x3d\x20\x3a\111\x44\xa\11\11\x9\11\11\11\x9\11\x9\x41\116\x44\40\154\141\156\147\165\x61\147\x65\x5f\x69\144\40\75\40\72\x4c\101\x4e\107\125\x41\107\x45\137\111\104\12\11\11\11\x9\11\x9"; $update_record = $pdo->prepare($sql); $update_record->bindValue("\x4e\x45\x57\x5f\103\117\x4e\x54\x45\x4e\x54", htmlspecialchars_decode($new_content)); $update_record->bindValue("\x49\104", $row["\x62\x61\163\145\137\151\144"]); $update_record->bindValue("\x4c\101\116\x47\125\101\107\x45\137\111\x44", $row["\154\x61\x6e\147\165\141\147\x65\137\x69\x64"]); $update_record->execute(); unset($update_record); } } $records = array(); $sql = "\x53\x45\x4c\105\103\x54\40\142\141\163\x65\x5f\151\144\x2c\40\x6c\141\x6e\147\165\x61\x67\x65\137\151\x64\x2c\40\x63\x75\163\164\157\x6d\137\151\164\145\x6d\x5f\x69\144\x2c\x20\x76\x61\154\x75\x65\x20\106\x52\117\x4d\40{$table_prefix}\x70\x6f\163\x74\163\137\x63\x75\x73\x74\x6f\x6d\40\x57\x48\x45\x52\105\x20\166\x61\x6c\x75\x65\x20\114\x49\113\105\40\47\45{$_SESSION[$session_key]["\x63\x6f\x6e\x66\x69\x67\163"]["\x64\157\x6d\x61\x69\156"]}\45\x27"; $read_records = $pdo->prepare($sql); $read_records->execute(); while ($record = $read_records->fetch(PDO::FETCH_ASSOC)) { $records[] = $record; } unset($read_records); if (!empty($records)) { foreach ($records as $row) { $new_value = str_replace($upload_uri_old, $upload_uri_new, $row["\x76\x61\154\x75\145"]); $sql = "\12\11\11\x9\11\x9\x9\x9\11\125\x50\104\101\x54\105\x20{$table_prefix}\160\157\x73\x74\163\137\x63\165\163\x74\x6f\x6d\40\123\x45\x54\xa\x9\11\x9\x9\11\x9\x9\11\11\x76\x61\154\x75\x65\x20\75\40\x3a\x4e\105\127\x5f\x56\x41\x4c\x55\105\xa\11\x9\x9\x9\x9\11\x9\x9\x57\x48\x45\122\x45\xa\11\11\11\x9\x9\x9\x9\11\x9\x62\141\163\145\137\x69\144\x20\x3d\x20\72\x49\x44\12\x9\11\x9\x9\x9\x9\11\11\11\101\116\x44\40\x6c\x61\156\147\x75\x61\x67\x65\137\151\144\x20\x3d\40\72\x4c\x41\116\107\125\101\x47\x45\x5f\x49\x44\xa\x9\11\11\x9\11\11\11\x9\11\x41\x4e\x44\40\x63\x75\x73\164\157\x6d\x5f\x69\164\145\x6d\x5f\151\x64\x20\75\40\72\103\x55\x53\124\117\x4d\x5f\111\x54\105\115\x5f\x49\104\xa\11\x9\11\11\x9\11"; $update_record = $pdo->prepare($sql); $update_record->bindValue("\116\x45\x57\137\126\101\x4c\x55\x45", $new_value); $update_record->bindValue("\111\104", $row["\x62\141\163\x65\x5f\x69\144"]); $update_record->bindValue("\114\101\116\107\x55\101\107\x45\137\x49\x44", $row["\x6c\x61\156\x67\165\x61\x67\x65\x5f\x69\144"]); $update_record->bindValue("\103\x55\123\124\x4f\115\137\111\x54\105\x4d\x5f\111\104", $row["\x63\165\163\x74\x6f\155\137\151\164\x65\x6d\137\x69\x64"]); $update_record->execute(); unset($update_record); } } resetCacheParams(); $pdo->commit(); if ($_SESSION[$session_key]["\x63\x6f\x6e\x66\151\x67\x73"]["\x64\x61\164\x61\x62\x61\163\145"] == 1) { $sqlite_path_arr = explode("\57", SQLITE_PATH); $db_file_name = end($sqlite_path_arr); $sqlite_path_real = realpath(dirname(__FILE__) . "\57\x2e\56\57\x63\x6f\162\x65\x2f\x64\x62\57" . $db_file_name); $pdo_sqlite_content = "\x3c\x3f\x70\150\160\xa\12\x64\x65\x66\151\x6e\x65\x28\x27\123\121\x4c\111\124\x45\x5f\120\101\x54\110\47\54\40\x27{$sqlite_path_real}\47\51\73\12"; $file = dirname(__FILE__) . "\x2f\x2e\56\57\x63\x6f\162\145\57\144\x62\x2f\160\144\157\x5f\x73\x71\154\x69\x74\x65\x2e\160\x68\x70"; if (!file_put_contents($file, $pdo_sqlite_content, LOCK_EX)) { header("\114\157\x63\x61\x74\151\x6f\156\x3a\40\56\57\x72\x65\163\145\x74\x5f\x73\171\163\x74\x65\155\x2e\x70\x68\160\x3f\145\162\x72\x6f\162\155\163\x67\75\x30\62"); die; } } } catch (PDOException $e) { $pdo->rollBack(); header("\x4c\157\143\x61\x74\x69\157\156\72\40\56\x2f\77\x76\151\145\167\x5f\x70\x61\x67\145\75\143\x6f\156\146\151\147\137\x63\157\162\x65\x26\160\x72\157\x63\145\x73\163\75\x31\71\x26\x65\x72\162\157\x72\x5f\143\157\144\x65\75\x38\61"); die; } } if ($session_key != $_POST["\163\x65\x73\163\151\157\x6e\x5f\x6b\145\x79"]) { $_SESSION[$_POST["\x73\145\x73\x73\151\x6f\x6e\137\x6b\x65\x79"]] = $_SESSION[$session_key]; $_SESSION[$session_key] = array(); unset($_SESSION[$session_key]); } } if ($target == "\143\x6f\x72\145\137\x61\160\x69") { $remote_address_allowed = null; if (!empty($_POST["\x72\x65\155\157\x74\x65\137\x61\x64\144\x72\145\x73\x73\137\141\154\x6c\157\167\x65\x64"])) { $remote_address_allowed_arr = explode("\x2c", $_POST["\162\x65\155\157\x74\145\x5f\x61\x64\144\162\x65\163\x73\137\141\x6c\x6c\157\x77\145\144"]); foreach ($remote_address_allowed_arr as $key => $value) { $remote_address_allowed_arr[$key] = mb_convert_kana(trim($value), "\141\162\x6e"); } $_POST["\x72\x65\155\157\x74\145\x5f\x61\144\x64\162\x65\163\x73\x5f\x61\x6c\x6c\x6f\167\145\144"] = $remote_address_allowed = implode("\54\40", $remote_address_allowed_arr); } $origin_allowed = null; if (!empty($_POST["\x6f\162\151\147\151\156\137\141\154\154\x6f\x77\x65\144"])) { $origin_allowed_arr = explode("\x2c", $_POST["\157\162\151\x67\x69\x6e\x5f\x61\154\154\x6f\167\x65\x64"]); foreach ($origin_allowed_arr as $key => $value) { $origin_allowed_arr[$key] = mb_convert_kana(trim($value), "\x61\162\156"); } $_POST["\x6f\x72\x69\147\x69\x6e\x5f\x61\154\154\x6f\x77\x65\144"] = $origin_allowed = implode("\x2c\40", $origin_allowed_arr); } $api_force_cache_time = 0; if (isset($_POST["\x61\160\151\137\146\x6f\162\143\145\137\143\x61\143\150\x65\x5f\x74\x69\x6d\145"])) { $_POST["\x61\x70\x69\x5f\146\x6f\x72\x63\x65\137\x63\141\143\150\x65\x5f\x74\151\x6d\x65"] = $api_force_cache_time = intval($_POST["\141\x70\x69\137\x66\x6f\x72\x63\145\x5f\x63\141\x63\x68\x65\137\x74\151\155\x65"]); } $api_config_path = dirname(__FILE__) . "\x2f\56\56\x2f\x63\157\x72\x65\x2f\141\x70\151"; $api_config_file_name = "\x63\x6f\x6e\146\x69\147\x2e\160\x68\x70"; $api_config = "\74\x3f\160\150\x70\xa\xa\44\157\x72\x69\x67\x69\156\137\141\x6c\154\157\167\145\144\x20\75\40\47{$origin_allowed}\x27\x3b\xa\44\x72\145\x6d\x6f\x74\145\137\x61\144\x64\x72\145\163\163\137\x61\154\154\x6f\167\x65\x64\40\75\40\47{$remote_address_allowed}\47\x3b\xa\x24\141\160\x69\137\146\x6f\162\143\145\137\x63\141\x63\150\145\x5f\x74\x69\x6d\x65\40\x3d\x20\x27{$api_force_cache_time}\x27\x3b\12"; if (false === file_exists($api_config_path)) { mkdir($api_config_path); } file_put_contents($api_config_path . "\57" . $api_config_file_name, $api_config); } if ($target == "\x63\x6f\162\x65\137\x6d\145\144\151\141") { if (!empty($_POST["\165\160\x6c\x6f\x61\x64\137\x64\151\162\x5f\160\x65\162\155\151\163\x73\x69\157\x6e"])) { if ($_POST["\165\160\x6c\157\x61\x64\137\144\x69\x72\137\x70\145\x72\155\151\x73\163\151\157\156"] != $_SESSION[$session_key]["\x63\157\156\x66\x69\x67\x73"]["\165\x70\x6c\x6f\x61\x64\x5f\x64\151\162\137\x70\x65\162\x6d\151\163\x73\x69\x6f\x6e"]) { if (preg_match("\x2f\136\134\144\x7b\x33\175\x24\x2f", intval($_POST["\165\x70\x6c\x6f\141\x64\x5f\144\x69\x72\137\x70\145\x72\x6d\x69\x73\163\151\x6f\x6e"])) && intval($_POST["\165\x70\x6c\x6f\141\144\137\x64\x69\x72\137\x70\x65\x72\155\151\163\163\151\x6f\156"]) <= 777) { $_POST["\x75\160\154\157\x61\144\x5f\x64\x69\162\137\x70\x65\x72\x6d\151\163\163\151\x6f\156"] = intval($_POST["\x75\160\x6c\157\141\144\x5f\x64\x69\x72\x5f\x70\145\162\x6d\x69\x73\163\151\157\156"]); $upload_path = dirname(__FILE__) . "\x2f\56\x2e\x2f\x75\x70\154\157\x61\144"; $upload_dirs = getFileList($upload_path, "\x64\151\x72"); $upload_dirs[] = $upload_path; $permission = sprintf("\x25\60\x34\x64", $_POST["\x75\160\154\157\141\144\137\144\151\162\137\x70\145\162\x6d\x69\x73\163\x69\x6f\x6e"]); foreach ($upload_dirs as $dir) { chmod($dir, octdec($permission)); } } else { header("\114\157\x63\141\x74\x69\x6f\156\72\x20\x2e\x2f\x3f\166\x69\145\x77\137\160\x61\147\145\75\x63\157\x6e\x66\x69\x67\137\x63\x6f\x72\x65\x26\160\x72\x6f\143\145\163\163\75\61\71\x26\145\x72\162\x6f\162\x5f\x63\x6f\x64\x65\x3d\x38\x34"); die; } } } else { header("\114\x6f\x63\x61\x74\x69\157\x6e\72\40\56\57\x3f\x76\151\x65\x77\137\x70\141\147\145\75\x63\157\x6e\146\151\147\x5f\143\x6f\162\x65\x26\x70\x72\x6f\143\x65\x73\x73\75\61\x39\46\x65\x72\x72\x6f\162\137\143\x6f\144\x65\x3d\70\64"); die; } $imagesize_default_width = 1200; if (empty($_POST["\165\160\154\x6f\x61\144\x5f\x69\x6d\x61\147\145\x73\x69\x7a\145\137\x6d\141\151\156\x5f\167\x69\144\164\x68"]) && empty($_POST["\165\x70\x6c\157\x61\x64\x5f\x69\x6d\x61\x67\x65\x73\x69\x7a\145\x5f\155\x61\151\156\x5f\x68\145\x69\x67\x68\164"])) { $_POST["\165\160\x6c\157\141\x64\x5f\x69\155\141\x67\145\x73\151\172\145\137\155\x61\x69\x6e\137\x77\x69\x64\x74\x68"] = $imagesize_default_width; } else { if (!empty($_POST["\165\160\154\157\x61\x64\x5f\151\155\x61\x67\145\x73\151\172\145\x5f\155\141\x69\156\x5f\167\x69\x64\x74\x68"]) && $_POST["\x75\160\154\x6f\x61\144\x5f\x69\x6d\x61\x67\x65\163\151\172\x65\x5f\x6d\x61\151\156\137\x77\x69\144\x74\150"] != $_SESSION[$session_key]["\143\x6f\156\x66\151\x67\163"]["\x75\x70\154\x6f\x61\144\137\151\x6d\141\x67\145\x73\151\172\145\137\x6d\141\x69\x6e\137\x77\151\x64\164\150"]) { if (!preg_match("\57\136\133\60\55\x39\x5d\x2b\44\57", $_POST["\165\160\154\x6f\141\144\137\151\x6d\141\147\145\x73\151\172\x65\x5f\155\141\151\x6e\x5f\167\x69\144\x74\150"])) { header("\114\x6f\x63\141\x74\x69\x6f\156\x3a\40\56\57\77\166\x69\x65\167\137\160\141\147\145\75\143\x6f\156\x66\151\x67\137\143\x6f\162\145\x26\160\x72\x6f\x63\145\x73\163\x3d\61\x39\46\145\x72\162\x6f\x72\137\143\157\144\x65\75\70\x36"); die; } } if (!empty($_POST["\165\x70\154\x6f\x61\x64\137\151\155\x61\147\x65\x73\x69\x7a\x65\137\x6d\x61\x69\156\137\x68\x65\151\147\150\164"]) && $_POST["\x75\x70\154\157\141\x64\x5f\x69\x6d\141\147\145\x73\x69\x7a\x65\137\x6d\x61\151\156\137\x68\x65\x69\147\x68\x74"] != $_SESSION[$session_key]["\x63\157\156\146\x69\147\163"]["\165\160\x6c\157\141\144\137\x69\x6d\x61\x67\x65\163\x69\x7a\145\x5f\155\141\151\156\x5f\150\145\151\147\x68\164"]) { if (!preg_match("\57\136\x5b\x30\x2d\71\x5d\x2b\x24\x2f", $_POST["\165\160\154\157\x61\144\137\x69\x6d\141\147\x65\163\151\172\145\137\x6d\141\x69\156\137\150\x65\x69\147\150\x74"])) { header("\x4c\x6f\x63\141\x74\x69\x6f\x6e\x3a\40\x2e\57\77\166\x69\x65\167\x5f\160\141\x67\x65\x3d\x63\x6f\x6e\146\x69\x67\x5f\x63\157\x72\x65\x26\x70\x72\157\x63\145\163\163\75\61\x39\46\x65\x72\x72\157\162\137\143\x6f\x64\x65\x3d\x38\x36"); die; } } } } try { $pdo->beginTransaction(); foreach ($_POST as $item => $value) { $sql = "\xa\x9\11\x9\11\11\125\120\x44\101\124\x45\x20{$table_prefix}\143\157\156\x66\151\x67\163\40\123\x45\124\12\11\x9\11\11\x9\x9\x76\x61\x6c\165\x65\40\x3d\40\72\x56\x41\114\125\x45\12\11\x9\11\11\11\x57\110\105\x52\105\40\151\164\x65\x6d\40\75\x20\72\x49\124\x45\115\xa\11\11\11"; $update_record = $pdo->prepare($sql); $update_record->bindValue("\126\101\114\x55\105", $value); $update_record->bindValue("\111\124\105\x4d", $item); $update_record->execute(); unset($update_record); } resetCacheParams(); $pdo->commit(); } catch (PDOException $e) { $pdo->rollBack(); header("\114\157\143\x61\164\x69\x6f\x6e\72\x20\x2e\57\77\x76\x69\x65\167\x5f\x70\141\147\145\x3d\143\x6f\x6e\146\151\x67\x5f\143\157\x72\x65\x26\x70\162\157\x63\x65\x73\x73\75\x31\71\46\x65\x72\x72\157\162\x5f\143\157\144\x65\75\70\x39"); die; } header("\114\157\143\x61\x74\x69\157\156\x3a\x20\x2e\57\77\166\x69\145\x77\137\160\x61\x67\145\x3d\x63\x6f\x6e\146\x69\x67\x5f\143\x6f\162\x65\46\160\x72\157\x63\x65\x73\x73\75\62\x26\x74\141\x72\147\145\x74\75{$target}\x26\x63\150\141\156\147\145\x3d\x31\46\x63\154\145\x61\x72\75\x31"); die; } goto VCZIE; BsVsd: $page_main = $PageNum->getMain("\x63\157\156\146\x69\147"); goto jsbsx; pVyCu: $mode = isset($_GET["\x6d\x6f\144\145"]) ? $_GET["\155\x6f\x64\145"] : 1; goto HRoDF; Yylav: $this_protocol = isset($_SERVER["\x48\x54\124\x50\x53"]) && (!in_array(strtolower($_SERVER["\x48\x54\124\120\x53"]), array("\157\146\x66", "\156\157")) || $_SERVER["\123\105\122\x56\105\122\x5f\x50\117\122\x54"]) == 443 ? "\150\164\x74\x70\163" : "\150\164\164\160"; goto jWxxI; HRoDF: $process = isset($_POST["\x70\162\x6f\143\145\163\x73"]) ? $_POST["\160\162\157\143\145\163\163"] : 0; goto FFuqi; jWxxI: $this_domain = $this_protocol . "\x3a\x2f\x2f" . $_SERVER["\110\124\x54\x50\137\110\117\x53\x54"]; goto Cm0DS; ZwDBQ: $invalid_domain_flg = $records["\144\157\x6d\x61\x69\156"]["\166\x61\154\x75\x65"] != $this_domain ? 1 : 0; goto HOXNW; n57_T: $process_msg_type = null; goto Yylav; OMG0R: $page_title_main = TXT_CONFIGCORE_PAGETITLEMAIN; goto R594N; kjFmT: $process_msg_style = null; goto n57_T; nlsm1: if (isset($_GET["\160\162\x6f\x63\145\x73\x73"]) && $_GET["\160\x72\157\x63\145\x73\163"] == 19 && isset($_GET["\x65\x72\x72\x6f\162\x5f\x63\x6f\144\145"])) { $process_msg = $errormsg_list[$_GET["\145\162\x72\x6f\162\137\x63\157\144\x65"]]; $process_msg_style = "\x64\141\156\x67\x65\x72"; $process_msg_type = "\x45\x72\162\157\162"; } goto NN9lS; FFuqi: $target = isset($_POST["\164\141\162\x67\x65\164"]) ? $_POST["\164\x61\162\147\x65\164"] : null; goto cBy2A; jsbsx: $page_sub = 3; goto OMG0R; R594N: $page_title_sub = TXT_CONFIGCORE_PAGETITLESUB; goto RrQeB; DeT16: try { $sql = "\xa\x9\11\11\123\105\114\x45\x43\124\40\x2a\xa\11\11\x9\x46\122\x4f\x4d\40{$table_prefix}\x63\x6f\x6e\146\151\x67\x73\12\x9\x9\11\x57\110\x45\122\105\40\143\154\141\x73\x73\151\146\x69\x63\141\x74\151\157\156\x20\75\x20\x27\143\x6f\x72\145\x27\12\x9"; $read_records = $pdo->prepare($sql); $read_records->execute(); $record_counter = 0; while ($record = $read_records->fetch(PDO::FETCH_ASSOC)) { $records[$record["\151\164\x65\x6d"]] = $record; $record_counter++; } unset($read_records); require_once dirname(__FILE__) . "\x2f\56\x2e\x2f\154\151\142\x2f\164\151\155\145\x7a\157\x6e\x65\x2e\160\150\160"; } catch (PDOException $e) { $read_error = 1; header("\114\x6f\x63\x61\x74\x69\x6f\156\72\x20\56\57\x3f\x76\151\145\167\137\x70\x61\147\145\x3d\x65\x72\x72\x6f\x72\46\160\x61\147\145\75{$page}\x26\162\x65\141\144\x5f\x65\162\x72\157\162\75{$read_error}"); die; } goto ZwDBQ; NN9lS: $records = array(); goto DeT16; VCZIE: if (isset($_GET["\160\162\157\x63\145\x73\x73"]) && $_GET["\160\x72\x6f\x63\145\x73\163"] == 2) { $process_msg = TXT_CONFIGCORE_MSG_UPDATED; $process_msg_style = "\163\165\143\x63\145\163\163"; $process_msg_type = "\104\157\156\x65"; } goto nlsm1; RrQeB: $page_icon = "\146\141\55\x63\x6f\x67"; goto pVyCu; HOXNW: $invalid_dir_name_flg = $records["\x64\x69\162\x5f\x6e\141\155\145"]["\x76\x61\154\x75\145"] != $this_dir_name ? 1 : 0;